<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- head_hwk.html -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
<link rel="stylesheet" href="/site.css" />
<link rel="stylesheet" href="/hwk.css" />
<script src="/site.js"></script>
<script src="/hwk.js"></script>

    <title>h07 - Chapter 6: File IO, Chapter 9: Dynamic memory allocation - </title>
  </head>
    <body id="page-top">
      <div id="container" data-role="page">
      <div data-role="header" class="header">
 <nav data-role="navbar" data-grid-"d">
  <ul>
    <li><a href="https://ucsb-cs16.github.io">UCSB CS16 </a></li>
    <li><a href="/" class="ui-btn-active">CS16 S18</a></li>
     <li><a href="https://gradescope.com">Gradescope</a></li>
  </ul>
 </nav>
 <nav data-role="navbar" data-grid-"d">
  <ul>
   <li><a href="https://gauchospace.ucsb.edu">Gauchospace</a></li>
   <li><a href="https://piazza.com/configure-classes/spring2018/cs16s18">Piazza</a></li>
  </ul>
 </nav>
 
 <nav data-role="navbar" data-grid-"d">
  <ul class="hwk-nav-bar">
  
    <li><a href="/hwk/h01/">h01</a></li>
  
    <li><a href="/hwk/h02/">h02</a></li>
  
    <li><a href="/hwk/h03/">h03</a></li>
  
    <li><a href="/hwk/h04/">h04</a></li>
  
    <li><a href="/hwk/h05/">h05</a></li>
  
    <li><a href="/hwk/h06/">h06</a></li>
  
    <li><a href="/hwk/h07/">h07</a></li>
  
    <li><a href="/hwk/h08/">h08</a></li>
  
    <li><a href="/hwk/h09/">h09</a></li>
  
    <li><a href="/hwk/h10/">h10</a></li>
  
  </ul>
 </nav>

</div>

      
           
        <div id="content"  class="ui-content">
        <div class="hwk-header">
          <div class="hwk-page-header hwk-page-header-template">
	    <table>
	      <tr> <td class="page-num">1</td>  </tr>
	      <tr> <td class="asn-num">h07</td>  </tr>
	      <tr> <td class="course-qtr">CS16&#160;<span class="insert-qtr">S18</span></td>  </tr>
	    </table>
	  </div>
	  
	  <table class="hwk-header-table">

	    <tr><th colspan="5" class="hwk-header-name">Name:</th></tr>
	    <tr><th colspan="5" class="hwk-header-subtext">(as it would appear on official course roster)</th></tr>
	    <tr>
	      <th class="hwk-header-umail-label">  Umail address:</th>
	      <th class="hwk-header-umail-entry"> @umail.ucsb.edu</th>
	      <th rowspan="3" class="hwk-header-section"> section<br></th>
	    </tr>
	    <tr>
	      <th colspan="2" style="text-align:left; vertical-align:middle; font-size: 8pt !important; font-family:Arial Narrow, sans-serif; line-height:105%;"> Optional: name you wish to be called<br />if different from name above.
	    </th></tr>
	    <tr>
	      <th colspan="2" style="text-align:left; vertical-align:middle; font-size: 8pt !important; font-family:Arial Narrow, sans-serif; line-height: 105%;"> Optional: name of "homework buddy"<br />(leaving this blank signifies "I worked alone"
	  </th></tr></table>


<h1>h07: Chapter 6: File IO, Chapter 9: Dynamic memory allocation</h1>

	  <table class="asn_table">
	    <tr>
	      <th class="asn_ready">ready?</th>
	      <th class="asn_date" >assigned</th>
	      <th class="asn_date" >due</th>
	      <th class="asn_date" >points</th>
	    </tr>
	    <tr class="ready">
	      <td class="asn_ready">true</td>
	      <td class="asn_date" >Fri 05/11 10:00AM</td> 
	      <td class="asn_date" >Fri 05/18 11:59PM</td>
	      <td class="pointCount"></td>
	    </tr>
	   </table>

  <div style="font-size: 8pt !important; font-family:Arial Narrow, sans-serif; font-style:italic; line-height: 100%;">
<p>You may collaborate on this homework with AT MOST one person, an optional "homework buddy".
</p>
</div>

<p>MAY ONLY BE TURNED IN IN THE LECTURE/LAB LISTED ABOVE AS THE DUE DATE,<br />
OR IF APPLICABLE, SUBMITTED ON GRADESCOPE.   There is NO MAKEUP for missed assignments;<br />
in place of that, we drop the three lowest scores (if you have zeros, those are the three lowest scores.)
</p>
<hr />

          
        </div><!-- hwk-header -->  
          <p>Read Chapter 6, Chapter 9, sections 9.1-9.2 (pages 508 - 533). The key learning goals are dynamic memory allocation and its use in dynamic arrays and linked-lists. You don’t need to turn this homework in. To earn credit for this homework, complete the corresponding quiz on gauchospace AFTER you have completed the pen and pencil version of the homework. The quiz will be available one day before the due date indicated on the homework.</p>

<p><b>PLEASE MARK YOUR HOMEWORK CLEARLY, REGARDLESS OF IF YOU WRITE IT OUT IN INK OR PENCIL! FOR BEST RESULTS, SAVE THIS PAGE AS A PDF, THEN PRINT THE PDF.</b></p>

<p>1.(10 pts) What is the output of the following program? Using a pointer diagram show the evolution of all data objects in memory, clearly marking elements on the run-time stack and on the heap. Mark the size of all data objects. Assume the code is embedded in a correct and complete program.</p>
<div>
  <div class="highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="o">*</span><span class="n">p1</span><span class="p">,</span> <span class="o">*</span><span class="n">p2</span><span class="p">,</span> <span class="o">*</span><span class="n">p3</span><span class="p">;</span>
<span class="n">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">;</span>
<span class="n">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">;</span>
<span class="n">p3</span> <span class="o">=</span> <span class="n">p1</span><span class="p">;</span>
<span class="o">*</span><span class="n">p1</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="o">*</span><span class="n">p2</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
<span class="n">cout</span><span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p1</span><span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p2</span><span class="o">&lt;&lt;</span><span class="s">" "</span><span class="o">&lt;&lt;*</span><span class="n">p3</span><span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="n">p1</span> <span class="o">=</span> <span class="n">p2</span><span class="p">;</span>
<span class="n">cout</span><span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p1</span><span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p2</span><span class="o">&lt;&lt;</span><span class="s">" "</span><span class="o">&lt;&lt;*</span><span class="n">p3</span><span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="o">*</span><span class="n">p3</span> <span class="o">=</span> <span class="o">*</span><span class="n">p2</span><span class="p">;</span>
<span class="n">cout</span><span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p1</span><span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="o">&lt;&lt;</span> <span class="o">*</span><span class="n">p2</span><span class="o">&lt;&lt;</span><span class="s">" "</span><span class="o">&lt;&lt;*</span><span class="n">p3</span><span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</code></pre>
  </div>
</div>

<div style="margin-bottom:2em"></div>

<p>2.(10 pts) What is the output of the following program? Using a pointer diagram show the evolution of all data objects in memory, clearly marking elements on the run-time stack and on the heap. Mark the size of all data objects. Assume the code is embedded in a correct and complete program.</p>
<div>
  <div class="highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">array_size</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="o">*</span><span class="n">a</span> <span class="p">;</span>
<span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">array_size</span><span class="p">];</span>
<span class="kt">int</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span> <span class="n">array_size</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">i</span><span class="p">;</span>
<span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span> <span class="n">array_size</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&lt;&lt;</span><span class="s">" "</span><span class="p">;</span>
<span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
</code></pre>
  </div>
</div>

<div class="pagebreak"></div>

<p>3.(10 pts) Write the definition of a structure type called UndergradStudents. This structure should contain student ID numbers, first and last names, major, and GPA scores for each undergraduate year.</p>
<div style="margin-bottom:8em"></div>

<p>4.(20 pts) Write a program that uses the definition of the structure UndergradStudents from the previous question to <em>declare</em> and then <em>initialize</em> an array of 3 objects of this structure (hint: you can do this with the same approach you define/initialize an array of any other type). You <strong>must initialize the values in the program, not by user input</strong>.  The initial values are shown in the table below. Then write the definition of a function with the signature <code> void printRecords(struct UndergradStudents *records, int numrecords);</code> The function should print out the values of the array of objects passed to it as shown in the sample below, along with each student’s AVERAGE GPA score (calculated to a precision of 2 decimal places). You <strong>must use a loop to print the output</strong>. Your program should appropriately call the printRecords() function to print the student records and the average GPA.</p>

<div>
  <table>
    <tbody>
      <tr>
        <td>ID</td>
        <td>First name</td>
        <td>Last Name</td>
        <td>Major</td>
        <td>GPA Yr1</td>
        <td>GPA Yr2</td>
        <td>GPA Yr3</td>
        <td>GPA Yr4</td>
      </tr>
      <tr>
        <td>1</td>
        <td>Joe</td>
        <td>Shmoe</td>
        <td>EE</td>
        <td>3.8</td>
        <td>3.3</td>
        <td>3.4</td>
        <td>3.9</td>
      </tr>
      <tr>
        <td>2</td>
        <td>Macy</td>
        <td>Chen</td>
        <td>CS</td>
        <td>3.9</td>
        <td>3.9</td>
        <td>4.0</td>
        <td>4.0</td>
      </tr>
      <tr>
        <td>3</td>
        <td>Peter</td>
        <td>Patrick</td>
        <td>ME</td>
        <td>3.8</td>
        <td>3.0</td>
        <td>2.4</td>
        <td>1.9</td>
      </tr>
    </tbody>
  </table>

  <p>OUTPUT:</p>

  <div class="highlighter-rouge"><pre class="highlight"><code>These are the student records:
ID# 1, Shmoe, Joe, Major: EE, Average GPA: 3.60
ID# 2, Chen, Macy, Major: CS, Average GPA: 3.95
ID# 3, Peter, Patrick, Major: ME, Average GPA: 2.77
</code></pre>
  </div>

  <p>5.(10 pts) What is the output of this program?</p>
  <div style="margin-bottom:1em"></div>

  <div>
    <div class="highlighter-rouge"><pre class="highlight"><code><span class="mi">1</span>  <span class="err">#</span><span class="n">include</span> <span class="o">&lt;</span><span class="n">iostream</span><span class="o">&gt;</span>
<span class="mi">2</span>  <span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="mi">4</span>  <span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
<span class="mi">5</span>     <span class="kt">char</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">;</span>
<span class="mi">6</span>     <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Enter a word: "</span><span class="p">;</span>
<span class="mi">7</span>     <span class="n">first</span> <span class="o">=</span> <span class="n">cin</span><span class="p">.</span><span class="n">get</span><span class="p">();</span>
<span class="mi">8</span>     <span class="n">cin</span><span class="p">.</span><span class="n">sync</span><span class="p">();</span>
<span class="mi">9</span>     <span class="n">second</span> <span class="o">=</span> <span class="n">cin</span><span class="p">.</span><span class="n">get</span><span class="p">();</span>
<span class="mi">10</span>    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">first</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="mi">11</span>    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">second</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="mi">12</span>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="mi">13</span>  <span class="p">}</span>
</code></pre>
    </div>
  </div>

  <div style="margin-bottom:1em"></div>
  <div class="highlighter-rouge"><pre class="highlight"><code>(a) First
</code></pre>
  </div>
  <div style="margin-bottom:.5em"></div>
  <div class="highlighter-rouge"><pre class="highlight"><code>(b) Second
</code></pre>
  </div>
  <div style="margin-bottom:.5em"></div>
  <div class="highlighter-rouge"><pre class="highlight"><code>(c) Return first 2 letter of number from the entered word
</code></pre>
  </div>
  <div style="margin-bottom:.5em"></div>

  <p>6.(6 pts) In C++, all the files are opened in <strong>__</strong><strong>__</strong>__ mode:</p>
  <div style="margin-bottom:1em"></div>
  <div class="highlighter-rouge"><pre class="highlight"><code>(a) Binary
</code></pre>
  </div>
  <div style="margin-bottom:.5em"></div>
  <div class="highlighter-rouge"><pre class="highlight"><code>(b) Text    &lt;div style="margin-bottom:.5em"&gt;&lt;/div&gt;
(c) Can't say
</code></pre>
  </div>
  <div style="margin-bottom:.5em"></div>

  <p>7.(6 pts) How many streams are automatically created when executing a program:</p>
  <div style="margin-bottom:.1em"></div>
  <p>(a) 1</p>
  <div style="margin-bottom:.5em"></div>
  <p>(b) 2</p>
  <div style="margin-bottom:.5em"></div>
  <p>(c) 3</p>
  <div style="margin-bottom:.5em"></div>

  <div class="pagebreak"></div>

  <p>8.(12 pts)Please fill the program below to make it output the expected output:</p>
  <div>
    <p>```cpp
      #include <fstream>
      #include <iostream>
      #include <string>
      using namespace std;</string></iostream></fstream></p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  int main ()
  {
     string data;
     _____________ outfile;
     outfile.open("file.dat");
     cout &lt;&lt; "Writing to the file" &lt;&lt; endl;
     cout &lt;&lt; "Enter class name: ";
     ___________________________________________
     outfile &lt;&lt; data&lt;&lt; endl;
     cout &lt;&lt; "Enter your id: ";
     cin &gt;&gt; data;
     cin.ignore();
     outfile &lt;&lt; data&lt;&lt; endl;
     outfile.close();
     ifstream infile;
     cout &lt;&lt; "Reading from the file" &lt;&lt; endl;
     infile.open("file.dat");
     ___________________________________________
     cout &lt;&lt; data &lt;&lt; endl;
     ___________________________________________
     cout &lt;&lt; data &lt;&lt; endl;
     infile.close();
     return 0;
  }   ```
</code></pre>
    </div>
  </div>
  <p><b>Output</b></p>
  <div>
    <p><code class="highlighter-rouge">cpp
    Writing to the file
    Enter class name: name
    Enter your id: 123
    Reading from the file
    name
    123
  </code></p>
  </div>
  <div style="margin-bottom:1m"></div>

  <p>9.(6 pts) The <tt>&lt;fstream&gt;</tt> header provides three clasees for operating file IO:  ifstream, ofstream and fstream. What are these three used for respectively?</p>
  <div style="margin-bottom:8em"></div>

  <p>10.(10 pts) Write number 1 to 100 in a data file NOTES.TXT in C++</p>
  <div style="margin-bottom:5em"></div>
</div>

        </div><!-- content -->
        <div data-role="footer" class="footer">
 <nav data-role="navbar" data-grid-"d">
  <ul>
   <li><a href="https://github.com/ucsb-cs16-s18-mirza/ucsb-cs16-s18-mirza.github.io">this site on github</a></li>
   <li><a href="https://ucsb-cs16.github.io/instructor">Instructor info</a></li>
   <li><a href='https://github.com/ucsb-cs16-s18-mirza/ucsb-cs16-s18-mirza.github.io/edit/master/_hwk/h07.md'>edit this page on github</a></li>
   <li><a href="https://foo.cs.ucsb.edu/16wiki">16wiki</a></li>

  </ul>
 </nav>
</div>

      </div><!-- container -->
  </body>
</html>
